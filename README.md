# PreprocessEasy
Препроцессор C++, который подставляет содержимое файлов на место #include-директив.
## Описание
Функция `Preprocess` читает `in_file` и рекурсивно подставляет все `#include`-зависимости. Результат пишется в `out_file`.  
Она корректно обрабатывает два вида `#include`-директив:  
* `#include "..."`, задаваемую регулярным выражением `\s*#\s*include\s*"([^"]*)"\s*`. В этом случае поиск файла выполняется относительно текущего файла, где расположена сама директива. Если файл не найден, поиск выполняется последовательно по всем элементам вектора `include_directories`.
* `#include <...>`, задаваемая регулярным выражением `\s*#\s*include\s*<([^>]*)>\s*`. Поиск выполняется последовательно по всем элементам вектора `include_directories`.
  
Эти регулярные выражения в коде записаны через сырой литерал.  
  
Если включаемый файл так и не был найден или его не удалось открыть через `ifstream`, функция выводит в `cout` следующий текст:  
```c++
unknown include file <имя файла в директиве> at file <имя файла, где директива> at line <номер строки, где директива>
```
И сразу возвращает `false`. 
  
В случае ошибки в выходном файле записываются все строки до ошибки. 
  
При формировании сообщения считается, что строки нумеруются от единицы.
  
Если не удалось открыть начальный файл, функция сразу возвращает `false`, ничего не выводя и не открывая выходной файл для записи.  
  
Если все файлы были найдены, функция возвращает `true`.  
## Системные требования
- С++17 (C++1z)
## Планы по доработке
* Добавить обработку `#define` и других команд препроцессора, а также подставление макросов.  
* Добавить обработку кода, поданного на вход, на содержание циклических зависимостей.  
* Добавить обработку файлов недоступных для открытия через `ifstream` (отсутствие прав).  
* Добавить обработку путей в `#include`-директивах в форматах, которых не может прочитать конструктор `path`.  
  
***
![giffif](https://user-images.githubusercontent.com/93004994/164434944-d2e29257-6f92-4aae-a542-ecb36bd52df1.gif)
